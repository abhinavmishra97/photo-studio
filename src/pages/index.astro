---
import BaseLayout from "../layouts/BaseLayout.astro";

const slides = [
  {
    image:
      "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1600&q=80",
    title: "Timeless Wedding Stories",
    subtitle: "Candid moments, cinematic frames, and heartfelt celebrations.",
    cta: { label: "View Wedding Work", href: "/specialised-in#candid" },
  },
  {
    image:
      "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=1600&q=80",
    title: "Signature Portraits",
    subtitle: "Studio portraits that highlight personality and style.",
    cta: { label: "Book a Portrait", href: "/still-photography#studio" },
  },
  {
    image:
      "https://images.unsplash.com/photo-1511288593014-8acb33db1c83?auto=format&fit=crop&w=1600&q=80",
    title: "Product & Brand Stories",
    subtitle: "Clean, detailed visuals that make your products stand out.",
    cta: { label: "Product Shoots", href: "/still-photography#product" },
  },
  {
    image:
      "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?auto=format&fit=crop&w=1600&q=80",
    title: "Keepsakes & Gifts",
    subtitle: "Custom prints, albums, and gifts crafted with care.",
    cta: { label: "Explore Gifts", href: "/gifts-items" },
  },
];

const services = [
  {
    title: "Still Photography",
    copy: "Studio, matrimonial, baby, and product shoots with controlled lighting.",
    href: "/still-photography",
  },
  {
    title: "Videography",
    copy: "Cinematography, teasers, drone coverage, and wedding invitation films.",
    href: "/videography",
  },
  {
    title: "Printing & Gifts",
    copy: "Photo gifts, albums, and large-format printing for keepsakes and branding.",
    href: "/printing-solutions",
  },
];

const featuredShots = [
  "https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=900&q=80",
  "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=900&q=80",
  "https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?auto=format&fit=crop&w=900&q=80",
  "https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=900&q=80",
  "https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=900&q=80",
  "https://images.unsplash.com/photo-1511288593014-8acb33db1c83?auto=format&fit=crop&w=900&q=80",
];
---

<BaseLayout showHeader={true}>
  <section
    id="heroSlider"
    class="relative w-full h-[70vh] md:h-[80vh]
      overflow-hidden rounded-3xl shadow-2xl
      bg-[#121110] text-white"
  >
    <div class="absolute inset-0">
      {
        slides.map((slide, index) => (
          <div
            data-slide
            data-index={index}
            class={`absolute inset-0 transition-opacity duration-700 ease-in-out
            ${index === 0 ? "opacity-100 z-10" : "opacity-0 z-0"}
          `}
            style={`background-image: url('${slide.image}'); background-size: cover; background-position: center;`}
          >
            <div class="absolute inset-0 bg-black/55" />
            <div class="relative h-full flex items-center px-6 md:px-12">
              <div class="max-w-2xl space-y-4 md:space-y-6">
                <p class="uppercase tracking-[0.35em] text-sm text-[#D4A373]">
                  Ram Digital Photo Studio
                </p>
                <h2 class="text-3xl md:text-5xl font-semibold leading-tight">
                  {slide.title}
                </h2>
                <p class="text-lg md:text-xl text-[#E8DFD3]/90">
                  {slide.subtitle}
                </p>
                <div class="flex items-center space-x-3">
                  <a
                    href="/contact"
                    class="
                    inline-flex items-center gap-2
                    bg-[#D4A373] text-[#1F1D1A] px-4 py-2.5 rounded-full
                    font-semibold shadow-lg shadow-black/20
                    hover:translate-y-[-1px] hover:shadow-xl transition
                  "
                  >
                    Book a session
                    <span aria-hidden="true">→</span>
                  </a>
                  <a
                    href="/gallery"
                    class="
                    inline-flex items-center gap-2
                    text-[#EDEAE6] font-semibold
                    hover:text-[#D4A373] transition
                  "
                  >
                    View recent work
                  </a>
                </div>
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <div
      class="pointer-events-none absolute inset-0
        bg-gradient-to-t from-black/20 via-transparent to-black/30"
    >
    </div>

    <div
      class="absolute inset-x-0 bottom-6 flex justify-center items-center gap-3"
    >
      {
        slides.map((_, index) => (
          <button
            type="button"
            data-dot
            data-index={index}
            class="
            h-3 w-3 rounded-full border border-white/60
            transition-all duration-300 bg-white/30
          "
            aria-label={`Go to slide ${index + 1}`}
          />
        ))
      }
    </div>
  </section>

  <section class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-6">
    {
      services.map((service) => (
        <a
          href={service.href}
          class="
          group rounded-2xl bg-white/80 dark:bg-[#2B2824]
          border border-[#E2D8CB] dark:border-[#3A3630]
          p-6 shadow-sm hover:shadow-lg transition
          hover:-translate-y-1
        "
        >
          <div
            class="
            w-12 h-12 rounded-full
            bg-[#D4A373]/15 text-[#D4A373]
            flex items-center justify-center text-xl font-bold
            mb-4
          "
          >
            •
          </div>
          <h3 class="text-2xl font-semibold mb-2">{service.title}</h3>
          <p class="text-[#5A5246] dark:text-[#CDC3B7] leading-relaxed">
            {service.copy}
          </p>
          <span
            class="
            mt-4 inline-flex items-center gap-2 text-[#A67C52]
            dark:text-[#D4A373] font-semibold
          "
          >
            Learn more <span aria-hidden="true">→</span>
          </span>
        </a>
      ))
    }
  </section>

  <section
    class="mt-16 rounded-3xl overflow-hidden
      bg-white/90 dark:bg-[#26231F]
      border border-[#E2D8CB] dark:border-[#36322D]
      shadow-sm"
  >
    <div class="grid md:grid-cols-2">
      <div class="p-8 md:p-12 flex flex-col justify-center space-y-4">
        <p class="uppercase tracking-[0.25em] text-sm text-[#A67C52]">
          About the studio
        </p>
        <h3 class="text-3xl font-semibold leading-tight">
          Warm, crafted imagery for every milestone.
        </h3>
        <p class="text-lg text-[#5A5246] dark:text-[#CDC3B7] leading-relaxed">
          From family portraits and weddings to brand stories and bespoke gifts,
          we design every session around you. Expect thoughtful lighting,
          patient direction, and a seamless experience from shoot to print.
        </p>
        <div class="flex gap-3">
          <a
            href="/about-us"
            class="inline-flex items-center gap-2 px-4 py-2.5 rounded-full
              bg-[#2F2A25] text-white dark:bg-[#D4A373] dark:text-[#1F1D1A]
              font-semibold hover:translate-y-[-1px] transition"
          >
            About Us
          </a>
          <a
            href="/gifts-items"
            class="inline-flex items-center gap-2 px-4 py-2.5 rounded-full
              border border-[#A67C52] text-[#A67C52]
              dark:border-[#D4A373] dark:text-[#D4A373]
              font-semibold hover:bg-[#A67C52]/10 transition"
          >
            See Gifts
          </a>
        </div>
      </div>
      <div
        class="hidden md:block bg-cover bg-center
          min-h-[320px]"
        style="background-image: url('https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&w=1200&q=80');"
      >
        <div
          class="h-full w-full bg-gradient-to-l from-black/20 to-transparent"
        >
        </div>
      </div>
    </div>
  </section>

  <section class="mt-16">
    <div class="flex items-center justify-between mb-6">
      <div>
        <p class="uppercase tracking-[0.25em] text-sm text-[#A67C52]">
          Featured work
        </p>
        <h3 class="text-3xl font-semibold">Recent captures</h3>
      </div>
      <a
        href="/contact"
        class="inline-flex items-center gap-2 text-[#A67C52]
          dark:text-[#D4A373] font-semibold
          hover:underline"
      >
        Plan your shoot
      </a>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
      {
        featuredShots.map((shot, index) => (
          <div
            class="
            relative rounded-2xl overflow-hidden aspect-[4/5]
            bg-[#E8DFD3] dark:bg-[#1F1D1A]
            shadow-sm
          "
          >
            <img
              src={shot}
              alt={`Featured shot ${index + 1}`}
              loading="lazy"
              class="w-full h-full object-cover transition duration-700 hover:scale-105"
            />
            <div class="absolute inset-0 bg-black/15 opacity-0 hover:opacity-100 transition" />
          </div>
        ))
      }
    </div>
  </section>

  <section
    class="mt-16 mb-6
      flex flex-col md:flex-row items-center justify-between
      gap-4 md:gap-6
      p-6 md:p-8 rounded-2xl
      bg-gradient-to-r from-[#2F2A25] to-[#1F1C19]
      text-white shadow-lg"
  >
    <div>
      <p class="uppercase tracking-[0.25em] text-sm text-[#D4A373]">
        Ready to create
      </p>
      <h3 class="text-2xl md:text-3xl font-semibold">
        Let’s plan your next shoot or gift.
      </h3>
      <p class="text-[#E8DFD3]/90 mt-2">
        Quick response via call/WhatsApp. Flexible studio and on-location
        options.
      </p>
    </div>
    <div class="flex gap-3">
      <a
        href="tel:+91XXXXXXXXXX"
        class="inline-flex items-center gap-2 px-5 py-3 rounded-full
          bg-white text-[#1F1D1A] font-semibold
          hover:translate-y-[-1px] transition shadow"
      >
        Call Now
      </a>
      <a
        href="/contact"
        class="inline-flex items-center gap-2 px-5 py-3 rounded-full
          border border-white/70 text-white font-semibold
          hover:bg-white/10 transition"
      >
        Book a session
      </a>
    </div>
  </section>

  <script is:inline>
    const hero = document.getElementById("heroSlider");
    if (hero) {
      const slidesEls = Array.from(hero.querySelectorAll("[data-slide]"));
      const dotsEls = Array.from(hero.querySelectorAll("[data-dot]"));

      let currentIndex = 0;
      let timer;

      const activate = (index) => {
        slidesEls.forEach((el, i) => {
          const isActive = i === index;
          el.classList.toggle("opacity-100", isActive);
          el.classList.toggle("z-10", isActive);
          el.classList.toggle("opacity-0", !isActive);
          el.classList.toggle("z-0", !isActive);
        });

        dotsEls.forEach((dot, i) => {
          const isActive = i === index;
          dot.classList.toggle("bg-white", isActive);
          dot.classList.toggle("w-8", isActive);
          dot.classList.toggle("border-white", isActive);
        });

        currentIndex = index;
      };

      const nextSlide = () => {
        const nextIndex = (currentIndex + 1) % slidesEls.length;
        activate(nextIndex);
      };

      const start = () => {
        stop();
        timer = setInterval(nextSlide, 3000);
      };

      const stop = () => {
        if (timer) clearInterval(timer);
      };

      dotsEls.forEach((dot) => {
        dot.addEventListener("click", () => {
          const index = Number(dot.dataset.index);
          activate(index);
          start();
        });
      });

      hero.addEventListener("mouseenter", stop);
      hero.addEventListener("mouseleave", start);

      activate(0);
      start();
    }
  </script>
</BaseLayout>
