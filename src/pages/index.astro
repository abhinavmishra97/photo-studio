---
import BaseLayout from "../layouts/BaseLayout.astro";

const slides = [
  {
    image: "/images/gallery/gallery-5.JPG",
    title: "Timeless Wedding Stories",
    subtitle: "Candid moments, cinematic frames, and heartfelt celebrations.",
    cta: { label: "View Wedding Work", href: "/specialised-in#candid" },
  },
  {
    image: "/images/gallery/gallery-6.JPG",
    title: "Signature Portraits",
    subtitle: "Studio portraits that highlight personality and style.",
    cta: { label: "Book a Portrait", href: "/still-photography#studio" },
  },
  {
    image: "/images/hero/hero-slide-3.jpg",
    title: "Product & Brand Stories",
    subtitle: "Clean, detailed visuals that make your products stand out.",
    cta: { label: "Product Shoots", href: "/still-photography#product" },
  },
  {
    image: "/images/hero/hero-slide-4.jpg",
    title: "Precious Baby Moments",
    subtitle: "Capturing your little one's milestones with warmth and care.",
    cta: { label: "Baby Photoshoots", href: "/still-photography#baby" },
  },
];

const services = [
  {
    title: "Still Photography",
    copy: "Studio, matrimonial, baby, and product shoots with controlled lighting.",
    href: "/still-photography",
  },
  {
    title: "Videography",
    copy: "Cinematography, teasers, drone coverage, and wedding invitation films.",
    href: "/videography",
  },
  {
    title: "Printing & Gifts",
    copy: "Photo gifts, albums, and large-format printing for keepsakes and branding.",
    href: "/printing-solutions",
  },
];

const featuredShots = [
  { image: "/images/hero/recent-work-1.JPG", category: "Studio Photoshoot" },
  { image: "/images/gallery/gallery-4.JPG", category: "Outdoor Photography" },
  { image: "/images/hero/recent-work-4.JPG", category: "Wedding Photography" },
  { image: "/images/gallery/gallery-3.JPG", category: "Product Photoshoot" },
  { image: "/images/gallery/gallery-14.jpg", category: "Baby Photoshoot" },
  { image: "/images/gallery/gallery-20.webp", category: "Gift Items" },
];
---

<BaseLayout showHeader={true}>
  <section
    id="heroSlider"
    class="relative w-full max-w-[100%] h-[80vh] md:h-[80vh] mx-auto
      overflow-hidden rounded-2xl shadow-2xl
      bg-gray-900 text-white mb-4"
  >
    <div class="absolute inset-0">
      {
        slides.map((slide, index) => (
          <div
            data-slide
            data-index={index}
            class={`absolute inset-0 transition-opacity duration-500 ease-in-out
            ${index === 0 ? "opacity-100 z-10" : "opacity-0 z-0"}
          `}
            style={`background-image: url('${slide.image}'); background-size: cover; background-position: center;`}
          >
            <div class="absolute inset-0 bg-black/50" />
            <div class="relative h-full flex items-center px-6 md:px-12">
              <div class="max-w-2xl space-y-4 md:space-y-6">
                <p class="uppercase tracking-widest text-sm text-[#D4AF37] font-medium">
                  Ram Photo Studio
                </p>
                <h2 class="text-3xl md:text-5xl font-bold leading-tight text-white">
                  {slide.title}
                </h2>
                <p class="text-lg md:text-xl text-[#F5F5F5]">
                  {slide.subtitle}
                </p>
                <div class="flex items-center space-x-3">
                  <a
                    href="/contact"
                    class="
                    inline-flex items-center gap-2
                    bg-gradient-to-r from-[#20C997] to-[#10A37F] text-white px-6 py-3 rounded-lg
                    font-semibold hover:from-[#10A37F] hover:to-[#0D8F6E] 
                    hover:scale-105 hover:shadow-[0_0_20px_rgba(32,201,151,0.5)]
                    transition-all duration-300 shadow-lg
                  "
                  >
                    Book a session
                    <span aria-hidden="true">→</span>
                  </a>
                  <a
                    href="/gallery"
                    class="
                    inline-flex items-center gap-2
                    text-[#F59E0B] font-bold text-lg
                    hover:text-[#D97706] hover:gap-3
                    transition-all duration-300
                  "
                  >
                    View recent work →
                  </a>
                </div>
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <div
      class="pointer-events-none absolute inset-0
        bg-gradient-to-t from-black/20 via-transparent to-black/10"
    >
    </div>

    <div
      class="absolute inset-x-0 bottom-8 flex justify-center items-center gap-2.5 z-20"
    >
      {
        slides.map((_, index) => (
          <button
            type="button"
            data-dot
            data-index={index}
            class="
            h-2 w-2 rounded-full
            transition-all duration-300
            bg-white/50 hover:bg-white/80
          "
            aria-label={`Go to slide ${index + 1}`}
          />
        ))
      }
    </div>
  </section>

  <section class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-6">
    {
      services.map((service) => (
        <a
          href={service.href}
          class="
          group rounded-xl
          bg-[#FBF7F2]
          border-2 border-[#D4AF37]/30
          p-6 shadow-md hover:shadow-xl transition-all duration-300
          hover:-translate-y-1 hover:border-[#D4AF37]
        "
        >
          <div
            class="
            w-12 h-12 rounded-lg
            bg-[#D4AF37]/20 text-[#D4AF37]
            flex items-center justify-center text-xl font-bold
            mb-4
          "
          >
            ✦
          </div>
          <h3 class="text-xl font-bold mb-2 text-[#2A2E35]">{service.title}</h3>
          <p class="text-[#3A3A3A] leading-relaxed text-sm">{service.copy}</p>
          <span
            class="
            mt-4 inline-flex items-center gap-2 text-[#D4AF37]
            font-semibold text-sm hover:text-[#C19A2E] transition
          "
          >
            Learn more <span aria-hidden="true">→</span>
          </span>
        </a>
      ))
    }
  </section>

  <section
    class="mt-16 rounded-xl overflow-hidden
      bg-[#FBF7F2]
      border-2 border-[#D4AF37]/30
      shadow-md hover:shadow-xl transition-all duration-300"
  >
    <div class="grid md:grid-cols-2">
      <div class="p-8 md:p-12 flex flex-col justify-center space-y-4">
        <p
          class="uppercase tracking-widest text-xs text-[#D4AF37] font-semibold"
        >
          About the studio
        </p>
        <h3
          class="text-2xl md:text-3xl font-bold leading-tight text-gray-900 dark:text-white"
        >
          Crafting Timeless Visual Stories for Over Five Decades
        </h3>
        <p class="text-base text-gray-600 dark:text-gray-300 leading-relaxed text-justify">
          Ram Photo Studio is a trusted name in professional
          photography, videography, and printing, proudly serving generations
          for more than <b>50 years</b>. Rooted in experience and driven by innovation,
          we combine artistic vision with advanced technology to preserve
          memories with authenticity, elegance, and precision.
        </p>
        <div class="flex gap-3">
          <a
            href="/about-us"
            class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg
              bg-gradient-to-r from-[#20C997] to-[#10A37F] text-white
              font-semibold hover:from-[#10A37F] hover:to-[#0D8F6E]
              hover:scale-105 hover:shadow-[0_0_20px_rgba(32,201,151,0.5)]
              transition-all duration-300 shadow-lg"
          >
            About Us
          </a>
          <a
            href="/gifts-items"
            class="inline-flex items-center gap-2
              text-[#F59E0B] font-bold text-base
              hover:text-[#D97706] hover:gap-3
              transition-all duration-300"
          >
            See Gifts →
          </a>
        </div>
      </div>
      <div
        class="hidden md:block bg-cover bg-center
          min-h-[320px] relative"
        style="background-image: url('https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&w=1200&q=80');"
      >
        <div class="h-full w-full bg-black/20"></div>
      </div>
    </div>
  </section>

  <section class="mt-16">
    <div class="flex items-center justify-between mb-6">
      <div>
        <p
          class="uppercase tracking-widest text-xs text-[#D97706] font-semibold"
        >
          Featured work
        </p>
        <h3
          class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white"
        >
          Recent captures
        </h3>
      </div>
      <a
        href="/contact"
        class="inline-flex items-center gap-2 text-[#D4AF37]
          font-semibold text-sm hover:text-[#C19A2E]
          hover:gap-3 transition-all"
      >
        Plan your shoot →
      </a>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
      {
        featuredShots.map((shot, index) => (
          <div
            class="
            group relative rounded-lg overflow-hidden aspect-[4/5]
            bg-gray-100 dark:bg-gray-800
            shadow-sm hover:shadow-lg transition
          "
          >
            <img
              src={shot.image}
              alt={`${shot.category} - Featured shot ${index + 1}`}
              loading="lazy"
              class="w-full h-full object-cover transition duration-300 group-hover:scale-105"
            />
            <div class="absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/95 via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-start p-4">
              <span class="text-white font-semibold text-lg md:text-xl tracking-wide">
                {shot.category}
              </span>
            </div>
          </div>
        ))
      }
    </div>
  </section>

  <section
    class="mt-16 mb-6
      flex flex-col md:flex-row items-center justify-between
      gap-4 md:gap-6
      p-6 md:p-8 rounded-2xl
      bg-[#E8D5B5]
      border-2 border-[#E8D5B5]
      text-[#1a1a1a] shadow-lg"
  >
    <div>
      <p
        class="uppercase tracking-[0.25em] text-sm text-[#6B5744] font-semibold"
      >
        Ready to create
      </p>
      <h3 class="text-2xl md:text-3xl font-semibold">
        Let’s plan your next shoot or gift.
      </h3>
      <p class="text-[#1a1a1a] mt-2">
        Quick response via call/WhatsApp. Flexible studio and on-location ```
        options.
      </p>
    </div>
    <div class="flex gap-3">
      <a
        href="tel:+91XXXXXXXXXX"
        class="inline-flex items-center gap-2 px-5 py-3 rounded-full
          bg-gradient-to-r from-[#20C997] to-[#10A37F] text-white font-semibold
          hover:from-[#10A37F] hover:to-[#0D8F6E]
          hover:scale-105 hover:shadow-[0_0_25px_rgba(32,201,151,0.6)]
          transition-all duration-300 shadow-lg"
      >
        Call Now
      </a>
      <a
        href="/contact"
        class="inline-flex items-center gap-2 px-5 py-3 rounded-full
          bg-gradient-to-r from-[#C9954D] to-[#B8894E] text-white font-semibold
          hover:scale-105 hover:shadow-lg
          transition-all duration-300"
      >
        Book a session
      </a>
    </div>
  </section>

  <script is:inline>
    const hero = document.getElementById("heroSlider");
    if (hero) {
      const slidesEls = Array.from(hero.querySelectorAll("[data-slide]"));
      const dotsEls = Array.from(hero.querySelectorAll("[data-dot]"));

      let currentIndex = 0;
      let timer;

      const activate = (index) => {
        slidesEls.forEach((el, i) => {
          const isActive = i === index;
          el.classList.toggle("opacity-100", isActive);
          el.classList.toggle("z-10", isActive);
          el.classList.toggle("opacity-0", !isActive);
          el.classList.toggle("z-0", !isActive);
        });

        dotsEls.forEach((dot, i) => {
          const isActive = i === index;
          if (isActive) {
            dot.classList.remove("bg-white/50");
            dot.classList.add("bg-white", "w-8");
          } else {
            dot.classList.remove("bg-white", "w-8");
            dot.classList.add("bg-white/50");
          }
        });

        currentIndex = index;
      };

      const nextSlide = () => {
        const nextIndex = (currentIndex + 1) % slidesEls.length;
        activate(nextIndex);
      };

      const start = () => {
        stop();
        timer = setInterval(nextSlide, 3000);
      };

      const stop = () => {
        if (timer) clearInterval(timer);
      };

      dotsEls.forEach((dot) => {
        dot.addEventListener("click", () => {
          const index = Number(dot.dataset.index);
          activate(index);
          start();
        });
      });

      hero.addEventListener("mouseenter", stop);
      hero.addEventListener("mouseleave", start);

      activate(0);
      start();
    }
  </script>
</BaseLayout>
